
@{
    ViewData["Title"] = "FindMap";
}
<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
    #map {
    height: 100%;
    }

    html,
    body {
    height: 100%;
    margin: 0;
    padding: 0;
    }
    <input id="s_lat" value="52.441334" />
    <input id="s_lng" value="-1.654737" />
    <input id="d_lat" value="52.450439" />
    <input id="d_lng" value="-1.729660" /><br>
    <div id="result"></div>
    <div id="map"></div>
    <!-- Replace the value of the key parameter with your own API key. -->
    <script   src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOaWuSw6Y1KUo6XXGKfwcLah5awnn4tNU&callback=initMap" async></script>
</div>


    <h1>FindMap</h1>
    <script type="text/javascript">

        function initMap() {
            var n_start = new google.maps.LatLng(s_lat.value, s_lng.value);
            var n_end = new google.maps.LatLng(d_lat.value, d_lng.value);


            function getdistance() {
                var directionsService = new google.maps.DirectionsService();

                var request = {
                    origin: n_start,
                    destination: n_end,
                    travelMode: google.maps.TravelMode.DRIVING,
                    unitSystem: google.maps.UnitSystem.METRIC,
                    durationInTraffic: true
                };
                console.log(JSON.stringify(request));
                directionsService.route(request, function (response, status) {
                    if (status == google.maps.DirectionsStatus.OK) {

                        console.log("duration=" + response.routes[0].legs[0].duration.value + " seconds");
                        console.log("distance=" + response.routes[0].legs[0].distance.value + " meters");
                        document.getElementById('result').innerHTML = "distance=" + (response.routes[0].legs[0].distance.value / 1000).toFixed(2) + " km<br>duration=" + (response.routes[0].legs[0].duration.value / 60).toFixed(2) + " minutes";
                        new google.maps.DirectionsRenderer({
                            map: new google.maps.Map(document.getElementById('map')),
                            directions: response
                        })
                    } else {
                        window.alert('Directions request failed due to ' + status);

                    }
                });

            }
            getdistance();
        }


    </script>
